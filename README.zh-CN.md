# MiniCC - æç®€ Claude Code

ä¸€ä¸ªç²¾ç®€çš„ Claude Code å®ç°ï¼Œç”¨äºå­¦ä¹ å’Œç†è§£ AI ç¼–ç¨‹åŠ©æ‰‹çš„å·¥ä½œåŸç†ã€‚

## ç®€ä»‹

MiniCC (Minimal Claude Code) æ˜¯ä¸€ä¸ªæ•™å­¦ç‰ˆçš„ AI ä»£ç åŠ©æ‰‹ï¼Œç±»ä¼¼äº Minix ä¹‹äº Linux çš„å…³ç³»ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€æ´çš„æ¡†æ¶ï¼Œå¸®åŠ©å¼€å‘è€…ç†è§£å¦‚ä½•æ„å»ºæ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ï¼Œå¹¶ä¸”è®¾è®¡ä¸ºæ˜“äºæ‰©å±•çš„æ™ºèƒ½ä½“éª¨æ¶ã€‚

## ç‰¹æ€§

- ğŸ› ï¸ **å·¥å…·ç³»ç»Ÿ**: å¯æ‰©å±•çš„å·¥å…·æ¶æ„ï¼Œæ”¯æŒæ–‡ä»¶æ“ä½œã€å‘½ä»¤æ‰§è¡Œã€ä»£ç æœç´¢ç­‰
- ğŸ¤– **LLM é›†æˆ**: æ”¯æŒ OpenAI API å…¼å®¹çš„å¤§è¯­è¨€æ¨¡å‹
- ğŸ“ **ä¼šè¯ç®¡ç†**: ä¿æŒä¸Šä¸‹æ–‡ï¼Œæ”¯æŒå¤šè½®å¯¹è¯
- ğŸ”§ **æ˜“äºæ‰©å±•**: æ¸…æ™°çš„æ¶æ„ï¼Œæ–¹ä¾¿æ·»åŠ æ–°åŠŸèƒ½
- ğŸ“š **å­¦ä¹ å‹å¥½**: ä»£ç ç®€æ´ï¼Œæ³¨é‡Šæ¸…æ™°ï¼Œé€‚åˆå­¦ä¹ 

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/minicc.git
cd minicc
```

### 2. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 3. é…ç½®ç¯å¢ƒ

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œè®¾ç½®ä½ çš„ API Keyï¼š

```env
OPENAI_API_KEY=ä½ çš„-api-key
OPENAI_BASE_URL=https://api.openai.com/v1  # æˆ–å…¶ä»–å…¼å®¹ API
MODEL=gpt-4  # æˆ–å…¶ä»–æ¨¡å‹
```

### 4. æ„å»ºé¡¹ç›®

```bash
pnpm build
```

### 5. è¿è¡Œ

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ pnpm è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# äº¤äº’å¼èŠå¤©
pnpm chat

# å•æ¬¡æŸ¥è¯¢
pnpm minicc query "åˆ—å‡ºå½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶"

# ç®¡ç†ä¼šè¯
pnpm minicc sessions --list
```

#### æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œ

```bash
# é¦–å…ˆé“¾æ¥ CLI
cd packages/cli
npm link

# ç„¶åå¯ä»¥å…¨å±€ä½¿ç”¨
minicc chat
minicc query "ä½ çš„é—®é¢˜"
minicc sessions
```

## ä½¿ç”¨ç¤ºä¾‹

### äº¤äº’å¼èŠå¤©æ¨¡å¼

```bash
pnpm chat
```

ç„¶åä½ å¯ä»¥ï¼š
- è¾“å…¥é—®é¢˜è®© AI åŠ©æ‰‹å¸®ä½ ç¼–ç¨‹
- è¾“å…¥ `help` æŸ¥çœ‹å¸®åŠ©
- è¾“å…¥ `clear` æ¸…å±
- è¾“å…¥ `history` æŸ¥çœ‹å¯¹è¯å†å²
- è¾“å…¥ `exit` é€€å‡º

### å•æ¬¡æŸ¥è¯¢

```bash
pnpm minicc query "è¯»å– package.json æ–‡ä»¶çš„å†…å®¹"
```

### ä¼šè¯ç®¡ç†

```bash
# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
pnpm minicc sessions --list

# åˆ é™¤æŒ‡å®šä¼šè¯
pnpm minicc sessions --delete <session-id>

# æ¸…é™¤æ‰€æœ‰ä¼šè¯
pnpm minicc sessions --clear
```

## æ¶æ„è¯´æ˜

```
minicc/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒåŠŸèƒ½åŒ…
â”‚   â”‚   â”œâ”€â”€ llm/       # LLM å®¢æˆ·ç«¯å°è£…
â”‚   â”‚   â”œâ”€â”€ tools/     # å·¥å…·å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ base.tool.ts       # å·¥å…·åŸºç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ file.tool.ts       # æ–‡ä»¶æ“ä½œå·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ shell.tool.ts      # Shellå‘½ä»¤å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ search.tool.ts     # ä»£ç æœç´¢å·¥å…·
â”‚   â”‚   â””â”€â”€ services/  # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚       â”œâ”€â”€ chat.service.ts    # èŠå¤©æœåŠ¡
â”‚   â”‚       â””â”€â”€ session.service.ts # ä¼šè¯ç®¡ç†
â”‚   â””â”€â”€ cli/            # å‘½ä»¤è¡Œç•Œé¢
â”‚       â””â”€â”€ commands/  # CLI å‘½ä»¤å®ç°
```

## æ ¸å¿ƒå·¥å…·

### æ–‡ä»¶æ“ä½œå·¥å…·
- `file_read`: è¯»å–æ–‡ä»¶å†…å®¹
- `file_write`: å†™å…¥æ–‡ä»¶ï¼ˆè¦†ç›–æ•´ä¸ªæ–‡ä»¶ï¼‰
- `file_list`: åˆ—å‡ºç›®å½•æ–‡ä»¶

### æ–‡ä»¶ç¼–è¾‘å·¥å…·
- `file_edit`: æŸ¥æ‰¾å¹¶æ›¿æ¢æ–‡ä»¶å†…å®¹
- `file_insert`: åœ¨æŒ‡å®šè¡Œæ’å…¥å†…å®¹
- `file_delete_lines`: åˆ é™¤æŒ‡å®šè¡Œ

### Shell å·¥å…·
- `shell_execute`: æ‰§è¡Œç³»ç»Ÿå‘½ä»¤
- æ”¯æŒè¶…æ—¶æ§åˆ¶
- è¿”å› stdout/stderr

### æœç´¢å·¥å…·
- `code_search`: åœ¨ä»£ç ä¸­æœç´¢æ¨¡å¼
- æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼
- å¯æŒ‰æ–‡ä»¶ç±»å‹è¿‡æ»¤

## æ‰©å±•å¼€å‘

### æ·»åŠ æ–°å·¥å…·

1. åˆ›å»ºå·¥å…·ç±»ï¼Œç»§æ‰¿ `BaseTool`:

```typescript
import { BaseTool, ToolExecutionResult } from './base.tool';

export class MyTool extends BaseTool {
  name = 'my_tool';
  description = 'æˆ‘çš„è‡ªå®šä¹‰å·¥å…·';
  
  parameters = {
    type: 'object',
    properties: {
      input: { type: 'string' }
    },
    required: ['input']
  };
  
  async execute(args: any): Promise<ToolExecutionResult> {
    // å®ç°ä½ çš„é€»è¾‘
    return {
      success: true,
      data: 'result'
    };
  }
}
```

2. åœ¨ `registry.ts` ä¸­æ³¨å†Œ:

```typescript
this.register(new MyTool());
```

### åˆ›å»ºè‡ªå®šä¹‰æ™ºèƒ½ä½“

å¯ä»¥åŸºäºå·¥å…·ç³»ç»Ÿåˆ›å»ºä¸“é—¨çš„æ™ºèƒ½ä½“ï¼Œä¾‹å¦‚ï¼š
- ä»£ç å®¡æŸ¥åŠ©æ‰‹
- æ–‡æ¡£ç”Ÿæˆå™¨
- æµ‹è¯•ç¼–å†™åŠ©æ‰‹
- é‡æ„åŠ©æ‰‹

## å¯¹æ¯” Claude Code

| ç‰¹æ€§ | MiniCC | Claude Code |
|-----|--------|------------|
| ç›®æ ‡ç”¨æˆ· | å­¦ä¹ è€…/å¼€å‘è€… | ç»ˆç«¯ç”¨æˆ· |
| ä»£ç å¤æ‚åº¦ | ç®€å• | å¤æ‚ |
| åŠŸèƒ½å®Œæ•´æ€§ | åŸºç¡€ | å®Œæ•´ |
| å¯æ‰©å±•æ€§ | é«˜ | - |
| æ–‡æ¡£ | æ•™å­¦å‘ | ä½¿ç”¨å‘ |

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ä½¿ç”¨å…¶ä»– LLMï¼Ÿ
A: ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `OPENAI_BASE_URL` å’Œ `MODEL`ï¼Œåªè¦æ˜¯ OpenAI å…¼å®¹çš„ API éƒ½å¯ä»¥ä½¿ç”¨ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„å·¥å…·ï¼Ÿ
A: å‚è€ƒ"æ‰©å±•å¼€å‘"éƒ¨åˆ†ï¼Œåˆ›å»ºæ–°çš„å·¥å…·ç±»å¹¶æ³¨å†Œå³å¯ã€‚

### Q: ä¼šè¯å†å²ä¿å­˜åœ¨å“ªé‡Œï¼Ÿ
A: é»˜è®¤ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `.history/` æ–‡ä»¶å¤¹ä¸­ã€‚

### Q: å¦‚ä½•è´¡çŒ®ä»£ç ï¼Ÿ
A: Fork é¡¹ç›®ï¼Œåˆ›å»ºåˆ†æ”¯ï¼Œæäº¤ PRã€‚è¯·ç¡®ä¿ä»£ç æ¸…æ™°å¹¶åŒ…å«æ³¨é‡Šã€‚

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æ–‡æ¡£æˆ–æå‡ºå»ºè®®ã€‚è¿™æ˜¯ä¸€ä¸ªå­¦ä¹ é¡¹ç›®ï¼Œæˆ‘ä»¬é¼“åŠ±ï¼š
- æ¸…æ™°çš„ä»£ç å’Œæ³¨é‡Š
- æ•™å­¦æ€§çš„ç¤ºä¾‹
- æ¶æ„æ”¹è¿›å»ºè®®
- å·¥å…·æ‰©å±•
- æ–‡æ¡£å®Œå–„

## License

MIT

---

> ğŸ’¡ **æç¤º**: MiniCC æ˜¯ä¸ºäº†å­¦ä¹ ç›®çš„è€Œåˆ›å»ºçš„ã€‚å¦‚æœä½ éœ€è¦ç”Ÿäº§ç¯å¢ƒçš„ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œè¯·ä½¿ç”¨å®˜æ–¹çš„ Claude Code æˆ–å…¶ä»–æˆç†Ÿæ–¹æ¡ˆã€‚

## ç›¸å…³é“¾æ¥

- [English README](README.md)
- [Issues](https://github.com/yourusername/minicc/issues)
- [Discussions](https://github.com/yourusername/minicc/discussions)